this file contains the rb logic
